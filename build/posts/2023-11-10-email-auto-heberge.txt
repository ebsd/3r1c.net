email auto hébergé
2023-11-10

mail4one
========

Je parviens désormais à recevoir mes mails seulement avec un script /
service en en envoi gratuit pour 1000 mails par mois. Pour la réception
mail4one [1] ne prévoit pas de check spf et dkim, donc ceci peut
engendrer du spam. Mais peut python : mail4one [1]. L'envoi se fait avec
le service smtp2go [2] qui propose être qu'un postgrey serait une
solution palliative ? 

Notons que mail4one propose aussi un serveur pop3. Malheureusement, il
ne semble pas compatible avec tous les clients mails. K9 et Thunderbird
ont été testés. En revanche, mutt ne peut pas récupérer les mails par
exemple. Mais ce n'est pas grave puisque on peut utiliser munt à travers
ssh avec : `ssh -t user@server mutt`.

La documentation mail4one [1] est très correcte. Elle permet de démarrer
son propre serveur mail en quelques minutes.

[1]: https://gitlab.com/balki/mail4one
[2]: https://support.smtp2go.com/hc/en-gb/articles/223087947-Free-Plan
[3]: https://github.com/mail4one/mail4one/tree/main/deploy_configs

Client mail mutt
================

Configurer mutt pour pointer sur le dossiers /var/mails, et utiliser le
relais smtp de smtp2go.
```
# Vim comme éditeur
set editor = "vim -c 'set tw=72' -c 'set wrap'"
set folder="/var/lib/mail4one/mails/all"
set mask="!^\\.[^.]"
set mbox="/var/lib/mail4one/mails/all"
set record="+.Sent"
set postponed="+.Drafts"
set spoolfile="/var/lib/mail4one/mails/all"
# Adresse électronique de l'expéditeur
set from="Eric <site@3r1c.net>"
# Nom complet de l'expéditeur
set realname = "Eric"
# Génération du champs from
set use_from = yes
set smtp_url = "smtp://user:password@mail.smtp2go.com:587"
set ssl_starttls = yes
set edit_headers=yes
set markers=no
```
